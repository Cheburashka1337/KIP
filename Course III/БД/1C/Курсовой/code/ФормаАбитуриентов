&НаСервере
Функция ВернутьКолвоПредметов()
	Возврат 
Перечисления.ПеречислениеПредметыПоступленияАбитуриентов.Количество(); 
КонецФункции

Функция ВернутьЗначениеПредметаПоИндексу(индекс_номер)
	Возврат 
Перечисления.ПеречислениеПредметыПоступленияАбитуриентов.Получить(индекс_номер);
КонецФункции

Процедура СоздатьДокументЗаявлениеНаПоступление()

   НовыйДокументШоражников = 
Документы.ЗаявлениеНаПоступление.СоздатьДокумент();
   НовыйДокументШоражников.ФИОАбитуриента = Объект.Наименование;
   НовыйДокументШоражников.СпециальностьАбитуриента = 
Объект.СпециальностьАбитурента;
   НовыйДокументШоражников.СреднийБаллАбитуриента = 
Объект.СреднийБаллАбитуриента;
   НовыйДокументШоражников.ТипАттестатаАбитуриента  = 
Объект.ТипАттестатаАбитуриента;
   НовыйДокументШоражников.ПриоритетЗачисленияАбитуриента = 
Объект.ПриоритетЗачисленияАбитуриента;
   НовыйДокументШоражников.ФормаОплатыАбитуриента = 
Объект.ФормаОплатыАбитуриента;
   НовыйДокументШоражников.Дата = ТекущаяДата();
   НовыйДокументШоражников.Записать();   
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	Счетчик = 0;
	
 	Если (Объект.ОценкиАбитуриента.Количество() < 
ВернутьКолвоПредметов()) Тогда;
		Пока (Счетчик < ВернутьКолвоПредметов()) Цикл
			Новаястрока = 
Объект.ОценкиАбитуриента.Добавить();
			Новаястрока.Предмет = 
ВернутьЗначениеПредметаПоИндексу(Счетчик);
			Счетчик = Счетчик + 1;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ОценкиАбитуриентаПриИзменении(Элемент)
	СуммаЗначений = 0;
	КоличествоЗначенийШоражников = 0;
	
	Для пацана = 0 По Объект.ОценкиАбитуриента.Количество()-1 Цикл
		Если 
ЗначениеЗаполнено(Объект.ОценкиАбитуриента[пацана].Оценка) Тогда
			ТекущаяОценка = 
Объект.ОценкиАбитуриента[пацана].Оценка;
			Если ((ТекущаяОценка < 2) или (ТекущаяОценка > 
5)) Тогда
				Сообщить("Некорректный ввод оценки по 
дисциплине '"+Объект.ОценкиАбитуриента[пацана].Предмет+"'!");
			КонецЕсли;	
			КоличествоЗначенийШоражников = 
КоличествоЗначенийШоражников + 1;
			СуммаЗначений = СуммаЗначений + ТекущаяОценка;
		КонецЕсли;
	КонецЦикла;
	
	СреднееЗначение = СуммаЗначений / КоличествоЗначенийШоражников;
	Объект.СреднийБаллАбитуриента = СреднееЗначение;		
	
КонецПроцедуры

&НаКлиенте
Процедура ПослеЗаписи(ПараметрыЗаписи)
 	СоздатьДокументЗаявлениеНаПоступление();
КонецПроцедуры

&НаКлиенте
Процедура ОценкиАбитуриентаПриОкончанииРедактирования(Элемент, 
НоваяСтрока, ОтменаРедактирования)
	//Сообщить(НоваяСтрока);
	//Элемент.
КонецПроцедуры

&НаКлиенте
Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
	//Возможная реализация фильтрации
	// Вставить содержимое обработчика.
КонецПроцедуры

